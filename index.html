<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDL_kitchensink: SDL_kitchensink</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SDL_kitchensink
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">SDL_kitchensink </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> <a href="https://github.com/katajakasa/SDL_kitchensink/actions/workflows/ci.yml"><img src="https://github.com/katajakasa/SDL_kitchensink/actions/workflows/ci.yml/badge.svg" alt="CI" style="pointer-events: none;" class="inline"/></a></p>
<p >FFmpeg and SDL2 based library for audio and video playback, written in C99.</p>
<p >Documentation is available at <a href="http://katajakasa.github.io/SDL_kitchensink/">http://katajakasa.github.io/SDL_kitchensink/</a></p>
<p >Features:</p><ul>
<li>Decoding video, audio and subtitles via FFmpeg</li>
<li>Dumping video and subtitle data on SDL_textures</li>
<li>Dumping audio data in the usual mono/stereo interleaved formats</li>
<li>Automatic audio and video conversion to SDL2 friendly formats</li>
<li>Synchronizing video &amp; audio to clock</li>
<li>Seeking forwards and backwards</li>
<li>Bitmap, text and SSA/ASS subtitle support</li>
</ul>
<p >Note! Master branch is for the development of v1.0.0 series. v0 can be found in the rel-kitchensink-0 branch. v0 is no longer in active development and only bug- and security-fixes are accepted.</p>
<h1>1. Installation</h1>
<p >Nowadays you can find SDL_kitchensink in eg. linux repositories. Installation might be as simple as running the following (or your distributions' equivalent):</p>
<div class="fragment"><div class="line">If you are running on windows/MSYS2 or on linux distributions where the package management does not</div>
<div class="line">have kitchensink, you will need to compile it yourself. Please see the &quot;Compiling&quot; section below.</div>
<div class="line"> </div>
<div class="line">## 2. Library requirements</div>
<div class="line"> </div>
<div class="line">Build requirements:</div>
<div class="line">* CMake (&gt;=3.7)</div>
<div class="line">* GCC (C99 support required)</div>
<div class="line"> </div>
<div class="line">Library requirements:</div>
<div class="line">* SDL2 2.0.5 or newer</div>
<div class="line">* FFmpeg 3.2 or newer</div>
<div class="line">* libass (optional, supports runtime linking via SDL_LoadSO)</div>
<div class="line"> </div>
<div class="line">Note that Clang might work, but is not tested. Older SDL2 and FFmpeg library versions</div>
<div class="line">may or may not work; versions noted here are the only ones tested.</div>
<div class="line"> </div>
<div class="line">### 2.1. Debian / Ubuntu</div>
</div><!-- fragment --><p> sudo apt-get install libsdl2-dev libavcodec-dev libavformat-dev \ libavutil-dev libswresample-dev libswscale-dev libass-dev </p><div class="fragment"><div class="line">### 2.2. MSYS2 64bit</div>
<div class="line"> </div>
<div class="line">These are for x86_64. For 32bit installation, just change the package names a bit .</div>
</div><!-- fragment --><p> pacman -S mingw-w64-x86_64-SDL2 mingw-w64-x86_64-ffmpeg mingw-w64-x86_64-libass </p><div class="fragment"><div class="line">## 3. Compiling</div>
<div class="line"> </div>
<div class="line">By default, both static and dynamic libraries are built.</div>
<div class="line">* Set BUILD_STATIC off if you don&#39;t want to build static library</div>
<div class="line">* Set BUILD_SHARED off if you don&#39;t want to build shared library</div>
<div class="line">* Dynamic library is called libSDL_kitchensink.dll or .so</div>
<div class="line">* Static library is called libSDL_kitchensink_static.a</div>
<div class="line">* If you build in debug mode (```-DCMAKE_BUILD_TYPE=Debug```), libraries will be postfixed with &#39;d&#39;.</div>
<div class="line"> </div>
<div class="line">Change CMAKE_INSTALL_PREFIX as necessary to change the installation path. The files will be installed to</div>
<div class="line">* CMAKE_INSTALL_PREFIX/lib for libraries (.dll.a, .a, etc.)</div>
<div class="line">* CMAKE_INSTALL_PREFIX/bin for binaries (.dll, .so)</div>
<div class="line">* CMAKE_INSTALL_PREFIX/include for headers</div>
<div class="line"> </div>
<div class="line">### 3.1. Building the libraries on Debian/Ubuntu</div>
<div class="line"> </div>
<div class="line">1. ```mkdir build &amp;&amp; cd build</div>
</div><!-- fragment --><ol type="1">
<li><code>cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr/local ..</code></li>
<li><code>make -j</code></li>
<li><code>sudo make install</code></li>
</ol>
<h2>3.2. Building the libraries on MSYS2</h2>
<ol type="1">
<li><code>mkdir build &amp;&amp; cd build</code></li>
<li><code>cmake -G "MSYS Makefiles" -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr/local ..</code></li>
<li><code>make</code></li>
<li><code>make install</code></li>
</ol>
<h2>3.3. Building examples</h2>
<p >Just add <code>-DBUILD_EXAMPLES=1</code> to cmake arguments and rebuild.</p>
<h2>3.4. Building with AddressSanitizer</h2>
<p >This is for development/debugging use only!</p>
<p >Make sure llvm is installed, then add <code>-DUSE_ASAN=1</code> to the cmake arguments and rebuild. Note that ASAN is not supported on all OSes (eg. windows).</p>
<p >After building, you can run with the following (make sure to set correct llvm-symbolizer path): </p><div class="fragment"><div class="line">ASAN_OPTIONS=symbolize=1 ASAN_SYMBOLIZER_PATH=/usr/bin/llvm-symbolizer ./complex &lt;my videofile&gt;</div>
</div><!-- fragment --><h1>4. Q&amp;A</h1>
<p >Q: What's with the USE_DYNAMIC_LIBASS cmake flag ?</p><ul>
<li>A: It can be used to link the libass dynamically when needed. This also makes it possible to build the library without libass, if needed. Using this flag is not recommended however, and it will probably be deprecated in the next major version(s). If you use it, you might need to also patch the library path and name to match yours in kitchensink source.</li>
</ul>
<p >Q: Why the name SDL_kitchensink</p><ul>
<li>A: Because pulling major blob of library code like ffmpeg feels like bringing in a whole house with its kitchensink and everything to the project. Also, it sounded funny. Also, SDL_ffmpeg is already reserved :(</li>
</ul>
<h1>5. Examples</h1>
<p >Please see examples directory. You can also take a look at unittests for some help. Note that examples are NOT meant for any kind of real life use; they are only meant to show simple use cases for the library.</p>
<h1>6. FFMPEG &amp; licensing</h1>
<p >Note that FFmpeg has a rather complex license. Please take a look at <a href="http://ffmpeg.org/legal.html">FFmpeg Legal page</a> for details.</p>
<h1>7. License</h1>
<div class="fragment"><div class="line">The MIT License (MIT)</div>
<div class="line"> </div>
<div class="line">Copyright (c) 2020 Tuomas Virtanen</div>
<div class="line"> </div>
<div class="line">Permission is hereby granted, free of charge, to any person obtaining a copy</div>
<div class="line">of this software and associated documentation files (the &quot;Software&quot;), to deal</div>
<div class="line">in the Software without restriction, including without limitation the rights</div>
<div class="line">to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</div>
<div class="line">copies of the Software, and to permit persons to whom the Software is</div>
<div class="line">furnished to do so, subject to the following conditions:</div>
<div class="line"> </div>
<div class="line">The above copyright notice and this permission notice shall be included in all</div>
<div class="line">copies or substantial portions of the Software.</div>
<div class="line"> </div>
<div class="line">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</div>
<div class="line">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</div>
<div class="line">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</div>
<div class="line">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</div>
<div class="line">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</div>
<div class="line">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</div>
<div class="line">SOFTWARE.</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
